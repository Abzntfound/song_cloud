<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IBM Lyrical Song Cloud</title>
  <link rel="icon" type="image/jpeg" href="favicon.ico">

  <!-- GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <!-- SEO & Social -->
  <meta name="description" content="IBM Lyrical Song Cloud – Explore and stream your favorite songs with lyrics online.">
  <meta name="keywords" content="IBM Lyrical Song Cloud, music, lyrics, songs, streaming, online music, playlists">
  <meta name="author" content="Your Name or Username">
  <meta property="og:title" content="IBM Lyrical Song Cloud">
  <meta property="og:description" content="Explore and stream your favorite songs with lyrics online.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourusername.github.io/ibmsound">
  <meta property="og:image" content="cover-image.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="IBM Lyrical Song Cloud">
  <meta name="twitter:description" content="Explore and stream your favorite songs with lyrics online.">
  <meta name="twitter:image" content="cover-image.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      text-align: center;
      color: black;
      background: linear-gradient(90deg, #6d3621, #2c1a12);
      background-size: 200% 200%;
      animation: bgMove 15s ease infinite;
      padding-top: 5rem;
    }
    @keyframes bgMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    h1 { font-size: 2rem; }
    p { font-size: large; }
    input { width: 300px; padding: 8px; margin: 5px 0; }
    ul { list-style-type: none; padding: 0; }
    li { margin: 5px 0; }
    a { text-decoration: none; color: black; }

    hr {
      border: 0;
      height: 2px;
      background: linear-gradient(to right, transparent 30%, black 50%, transparent 70%);
      margin: 3rem 0;
    }

    footer {
      background-color: black;
      color: white;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: 5px;
    }

    #header {
      color: black;
      background-color: #6d3621;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(to right, transparent, #6d3621, #2c1a12, #6d3621, white) 1;
      z-index: 1000;
    }

    #Entrance { margin-top: 6rem; color: black; text-align: center; }
    #song { padding: 10px; }

    #loginForm, #registerForm, #developerPortal, #addSongsSection { display: none; margin-top: 7rem; }

    #developerPortal textarea, #addSongsSection textarea { width: 80%; height: 300px; }

    .gradient-btn {
      border: 2px solid white;
      background: linear-gradient(to right, #5C2B18 10%, #000000 90%);
      color: white;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
      margin: 3px;
    }
    .gradient-btn:hover { background: linear-gradient(to right, #000000 10%, #5C2B18 90%); transform: translateY(-2px);}
  </style>
</head>
<body>

<!-- Header -->
<div id="header" class="animate">
  <h3 class="left"><a href="index.html" class="gradient-btn">IBM SONG CLOUD</a></h3>
  <div>
    <a href="#log_in" onclick="showLogin()" class="gradient-btn">Log in</a>
    <a href="#addSongs" class="gradient-btn">Add More Songs</a>
  </div>
</div>

<!-- Login Form -->
<div id="loginForm" class="animate">
  <h3>Login</h3>
  <input type="text" id="username" placeholder="Username"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Log In</button><br>
  <p><a href="#" onclick="showRegister()">Create new account</a></p>
</div>

<!-- Registration Form -->
<div id="registerForm" class="animate">
  <h3>Create Account</h3>
  <input type="text" id="regUsername" placeholder="Username"><br>
  <input type="password" id="regPassword" placeholder="Password"><br>
  <button onclick="register()">Register</button><br>
  <p><a href="#" onclick="showLogin()">Back to login</a></p>
</div>

<!-- Main Content -->
<div id="Entrance" class="animate">
  <h1>Welcome to IBM's Lyrical Song Cloud!</h1>
  <p>Begin by searching the song you want:</p>
  <h2>Song Search</h2>
  <input type="text" id="searchBox" placeholder="Type to search..." onkeyup="searchSites()">
  <ul id="results"></ul>
</div>

<!-- Song Links -->
<div id="song">
  <script>
    let sites = JSON.parse(localStorage.getItem('songs')) || [
      { name: "Finally Song", url: "Finally.html", target: "_blank" },
      { name: "Fire", url: "fire.html", target: "_blank" },
      { name: "It is raining", url: "it_is_raining.html", target: "_blank" },
      { name: "Products", url: "products.html", target: "_blank" },
      { name: "Profile", url: "profile.html", target: "_blank" }
    ];

    function searchSites() {
      const input = document.getElementById("searchBox").value.toLowerCase();
      const results = document.getElementById("results");
      results.innerHTML = "";
      if (!input) return;
      const matches = sites.filter(site => site.name.toLowerCase().startsWith(input));
      matches.forEach(site => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = site.url;
        a.textContent = site.name;
        if (site.target) a.target = site.target;
        li.appendChild(a);
        results.appendChild(li);
      });
    }
  </script>
</div>

<!-- Developer Portal -->
<div id="developerPortal" class="animate">
  <h3>Developer Portal</h3>
  <p>Edit the page code below and save changes:</p>
  <textarea id="codeEditor"></textarea><br>
  <button onclick="saveCode()">Preview Changes</button>
</div>

<!-- Add Songs Section -->
<div id="addSongsSection" class="animate">
  <h3>Add New Songs</h3>
  <textarea id="songTemplateEditor">
<input type="text" id="songTitle" placeholder="Song Title"><br>
<textarea id="songLyrics" placeholder="Enter lyrics here..."></textarea><br>
<input type="text" id="songLink" placeholder="Optional: Song URL"><br>
<button onclick="addSong()">Add Song</button>
<div id="songList"></div>
<script>
let songs = JSON.parse(localStorage.getItem('songs')) || [];
function addSong(){
  const title=document.getElementById('songTitle').value.trim();
  const lyrics=document.getElementById('songLyrics').value.trim();
  const link=document.getElementById('songLink').value.trim();
  if(!title||!lyrics){alert('Fill title & lyrics'); return;}
  songs.push({title,lyrics,link});
  localStorage.setItem('songs', JSON.stringify(songs));
  renderSongs();
}
function renderSongs(){
  const list=document.getElementById('songList'); list.innerHTML='';
  songs.forEach((s,i)=>{
    const div=document.createElement('div');
    div.innerHTML='<h3>'+s.title+'</h3><p>'+s.lyrics+'</p>'+ (s.link?'<a href="'+s.link+'" target="_blank">Listen</a>':'') +'<hr>';
    list.appendChild(div);
  });
}
renderSongs();
</script>
  </textarea><br>
  <button class="gradient-btn" onclick="previewSongTemplate()">Preview Template</button>
  <button class="gradient-btn" onclick="saveSongTemplate()">Save Songs</button>
</div>


<!-- Footer -->
<footer>© IBM Church Rights Reserved</footer>

<script>
  // Users storage
  let users = JSON.parse(localStorage.getItem('users')) || [
    { username: "user1", password: "1234", role: "user" },
    { username: "dev", password: "devpass", role: "developer" }
  ];

  function showLogin() { document.getElementById('loginForm').style.display='block'; document.getElementById('registerForm').style.display='none'; }
  function showRegister() { document.getElementById('registerForm').style.display='block'; document.getElementById('loginForm').style.display='none'; }

  function login(){
    const username=document.getElementById('username').value;
    const password=document.getElementById('password').value;
    const user=users.find(u=>u.username===username && u.password===password);
    if(!user){alert('Invalid username or password'); return;}
    document.getElementById('loginForm').style.display='none';
    if(user.role==='developer'){
      document.getElementById('Entrance').style.display='none';
      document.getElementById('song').style.display='none';
      document.getElementById('developerPortal').style.display='block';
      document.getElementById('codeEditor').value=document.documentElement.innerHTML;
      document.getElementById('addSongsSection').style.display='block';
    } else {
      alert('Logged in as normal user!');
      document.getElementById('Entrance').style.display='block';
      document.getElementById('song').style.display='block';
    }
  }

  function register(){
    const username=document.getElementById('regUsername').value;
    const password=document.getElementById('regPassword').value;
    if(!username||!password){alert("Please fill in all fields"); return;}
    if(users.find(u=>u.username===username)){alert("Username already exists"); return;}
    users.push({username,password,role:"user"});
    localStorage.setItem('users',JSON.stringify(users));
    alert("Account created! You can now log in.");
    document.getElementById('registerForm').style.display='none';
    document.getElementById('loginForm').style.display='block';
  }

  function saveCode(){
    const code=document.getElementById('codeEditor').value;
    const win=window.open();
    win.document.open();
    win.document.write(code);
    win.document.close();
    alert('Code preview opened in new window!');
  }

  function previewSongTemplate(){
    const code=document.getElementById('songTemplateEditor').value;
    const win=window.open();
    win.document.open();
    win.document.write(code);
    win.document.close();
  }

  function saveSongTemplate(){
  try{
    // Execute the template code
    eval(document.getElementById('songTemplateEditor').value);
    
    // Ask for filename
    let fileName = prompt("Name this file (without extension):", "example");
    if(!fileName) return alert("Save cancelled!");
    if(!fileName.endsWith(".html")) fileName += ".html";
    
    // Save to database (localStorage)
    let db = JSON.parse(localStorage.getItem('songFiles')) || {};
    db[fileName] = document.getElementById('songTemplateEditor').value;
    localStorage.setItem('songFiles', JSON.stringify(db));
    
    alert(`Songs saved as "${fileName}"!`);
  } catch(e){
    console.error(e);
    alert('Error saving songs.');
  }
}

  // Show Add Songs section
  document.querySelector('#header a[href="#addSongs"]').addEventListener('click',function(e){
    e.preventDefault();
    document.getElementById('addSongsSection').style.display='block';
  });

  // GSAP Animations
  gsap.registerPlugin(ScrollTrigger);
  gsap.utils.toArray(".animate").forEach(el=>{
    gsap.from(el,{
      y:100,
      opacity:0,
      duration:1,
      ease:"power3.out",
      scrollTrigger:{ trigger:el, start:"top 80%", toggleActions:"play none none none", once:true }
    });
  });
</script>
</body>
</html>
